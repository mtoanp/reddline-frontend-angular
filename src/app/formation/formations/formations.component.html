<section class="p-3">
    <div class="card">
        <div class="card-header">
            <div class="card-title d-flex justify-content-between">
                <h3 class="mt-2">Formations</h3>
                <div class="actions">
                    <button *ngIf="authService.isAdmin()" class="btn btn-success mt-2 mr-2"
                        (click)="handleNewFormation()"
                    >+ Nouveau Formation</button>
                    <button class="btn btn-outline-success mt-2 mr-2"
                        routerLink="/api/themeTree"
                    >
                        Arbre des Thèmes
                    </button>
                    <button class="btn btn-outline-info mt-2 ml-1"
                        routerLink="/api/catalogue"
                    >
                        List des Formations
                    </button>
                </div>
            </div>
        </div>
        <div class="card-body">
            <!-- Search -->
            <div class="card-body d-flex">

            

            <div class="container">
                <div class="search d-flex justify-content-between">
                    <!-- {{keyword}} -->
                    <input type="text" [(ngModel)]="keyword" class="form-control p-2 m-1" placeholder="keywords">
                    <button (click)="searchFormations(keyword)" class="btn btn-outline-info m-1">
                        <i class="bi bi-search">Recherche</i>
                    </button>
                </div>

            <table class="table mt-3">
                <thead class="table-success">
                    <tr>
                         <th class="col-3">Nom</th> 
                         <th class="col-2">Prix</th> 
                         <th class="col-5">Description</th> 
                         <th *ngIf="authService.isAdmin()" class="col-1">Modifie</th> 
                         <th *ngIf="authService.isAdmin()" class="col-1">Suprimer</th> 
                    </tr>
                </thead>

                <tbody class="">
                    <tr *ngFor="let formation of formations">
                        <!-- <td (click)="handleShowFormation(formation)">
                            <a>{{formation.id}}</a>
                        </td> -->
                        <td  (click)="handleShowFormation(formation)">{{formation.nom}}</td>
                        <td  (click)="handleShowFormation(formation)">{{formation.prix}} €</td>
                        <td  (click)="handleShowFormation(formation)">{{formation.description | slice:0:40 }} ...</td>
                        <td *ngIf="authService.isAdmin()">
                            <button
                                (click)="handleEditFormation(formation)"
                                class="btn btn-outline-success"
                            >
                                <i class="bi bi-pen"></i>
                            </button>
                        </td>
                        <td *ngIf="authService.isAdmin()">
                            <button
                                (click)="handleDeleteFormation(formation)"
                                class="btn btn-outline-danger"
                            >
                                <i class="bi bi-trash"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            </div>
            </div>
        </div>
    </div>
</section>         